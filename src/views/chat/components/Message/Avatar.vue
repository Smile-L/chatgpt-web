<script lang="ts" setup>
import { computed } from 'vue'
import { NAvatar } from 'naive-ui'
import { useUserStore } from '@/store'
import { isString } from '@/utils/is'
import defaultAvatar from '@/assets/avatar.jpg'

interface Props {
  image?: boolean
}
defineProps<Props>()

const userStore = useUserStore()

const avatar = computed(() => userStore.userInfo.avatar)
</script>

<template>
  <template v-if="image">
    <NAvatar v-if="isString(avatar) && avatar.length > 0" :src="avatar" :fallback-src="defaultAvatar" />
    <NAvatar v-else round :src="defaultAvatar" />
  </template>
  <span v-else class="text-[28px] dark:text-white">
    <!-- <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" aria-hidden="true" width="1em" height="1em">
      <path d="M29.71,13.09A8.09,8.09,0,0,0,20.34,2.68a8.08,8.08,0,0,0-13.7,2.9A8.08,8.08,0,0,0,2.3,18.9,8,8,0,0,0,3,25.45a8.08,8.08,0,0,0,8.69,3.87,8,8,0,0,0,6,2.68,8.09,8.09,0,0,0,7.7-5.61,8,8,0,0,0,5.33-3.86A8.09,8.09,0,0,0,29.71,13.09Zm-12,16.82a6,6,0,0,1-3.84-1.39l.19-.11,6.37-3.68a1,1,0,0,0,.53-.91v-9l2.69,1.56a.08.08,0,0,1,.05.07v7.44A6,6,0,0,1,17.68,29.91ZM4.8,24.41a6,6,0,0,1-.71-4l.19.11,6.37,3.68a1,1,0,0,0,1,0l7.79-4.49V22.8a.09.09,0,0,1,0,.08L13,26.6A6,6,0,0,1,4.8,24.41ZM3.12,10.53A6,6,0,0,1,6.28,7.9v7.57a1,1,0,0,0,.51.9l7.75,4.47L11.85,22.4a.14.14,0,0,1-.09,0L5.32,18.68a6,6,0,0,1-2.2-8.18Zm22.13,5.14-7.78-4.52L20.16,9.6a.08.08,0,0,1,.09,0l6.44,3.72a6,6,0,0,1-.9,10.81V16.56A1.06,1.06,0,0,0,25.25,15.67Zm2.68-4-.19-.12-6.36-3.7a1,1,0,0,0-1.05,0l-7.78,4.49V9.2a.09.09,0,0,1,0-.09L19,5.4a6,6,0,0,1,8.91,6.21ZM11.08,17.15,8.38,15.6a.14.14,0,0,1-.05-.08V8.1a6,6,0,0,1,9.84-4.61L18,3.6,11.61,7.28a1,1,0,0,0-.53.91ZM12.54,14,16,12l3.47,2v4L16,20l-3.47-2Z" fill="currentColor" />
    </svg> -->
    <!-- 对话框的logo -->
    <svg width="26" height="23" viewBox="0 0 26 23" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M11.499 3.10644C12.2251 5.29638 11.4837 7.50674 9.84348 8.04785C8.20325 8.58895 6.28372 7.2515 5.55755 5.06156C4.83137 2.87162 5.57278 0.661262 7.21302 0.120158C8.85325 -0.420946 10.7728 0.9165 11.499 3.10644ZM5.09544 8.50217C6.0552 10.1561 5.82161 12.0806 4.57747 12.7953C3.33333 13.5099 1.54583 12.7493 0.59114 11.0954C-0.363547 9.44145 -0.14011 7.51695 1.10403 6.80229C2.34817 6.08762 4.13567 6.84823 5.09036 8.50217H5.09544ZM3.51106 18.8444C6.172 11.6314 10.8997 9.79878 12.997 9.79878C15.0943 9.79878 19.822 11.6314 22.4829 18.8444C22.6657 19.3396 22.747 19.8705 22.747 20.4014V20.483C22.747 21.8001 20.3755 22.867 20.3755 22.867H5.61848C5.61848 22.867 3.247 21.8001 3.247 20.483V20.4014C3.247 19.8705 3.32825 19.3396 3.51106 18.8444ZM21.4165 12.7953C20.1724 12.0806 19.9388 10.1561 20.8986 8.50217C21.8583 6.84823 23.6407 6.08762 24.8849 6.80229C26.129 7.51695 26.3626 9.44145 25.4029 11.0954C24.4431 12.7493 22.6607 13.5099 21.4165 12.7953ZM15.7443 8.04785C14.104 7.50674 13.3626 5.29638 14.0888 3.10644C14.815 0.9165 16.7345 -0.420946 18.3747 0.120158C20.015 0.661262 20.7564 2.87162 20.0302 5.06156C19.304 7.2515 17.3845 8.58895 15.7443 8.04785Z" fill="#FFA800" />
    </svg>
  </span>
</template>
